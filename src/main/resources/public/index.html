<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Drool Rule Maker</title>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.5/angular-messages.min.js"></script>
<script src="./js/rule.js"></script>
<script src="./js/ruleService.js"></script>
<script src="./js/ruleController.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body data-ng-app="rule">

	<div data-ng-app="rule" data-ng-controller="ruleController">

		<table class="table">
			<thead>
				<tr>
					<td>Field</td>
					<td>Condition</td>
					<td>Value</td>
				</tr>
			</thead>
			<tbody>
				<tr data-ng-repeat="field in model.data[0].criteria.fields track by $index">
					<td><input type="text" value="{{field.name}}" data-ng-model="field.name"
						data-ng-readonly='!($index == editName)' data-ng-dblclick="editName = $index" /></td>
					<td><select data-ng-model="field.condition">
							<option data-ng-selected="{{field.condition}}" data-ng-repeat="c in model.conditions">{{c}}</option>
					</select></td>
					<td><input type="text" value="{{field.value}}" data-ng-model="field.value"
						data-ng-readonly='!($index == editValue)' data-ng-dblclick="editValue = $index" /></td>
					<td><div class="btn-group">
							<button class="btn btn-danger" data-ng-click="deleteField(model.data[0].criteria, $index)"
								data-ng-hide="model.data[0].criteria.fields.length == 1">Delete</button>
							<button class="btn btn-primary" data-ng-click="addField(model.data[0].criteria, 0)" data-ng-show="$last">Add</button>
							<button class="btn btn-success" data-ng-click="saveCriteria(model.data[0].criteria)" data-ng-show="$last">Save
								Data</button>
						</div></td>
				</tr>
			</tbody>
		</table>

	</div>

</body>
</html>